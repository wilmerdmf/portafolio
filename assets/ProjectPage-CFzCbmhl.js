import{M as K,j as n,i as U,a as $,P as W,b as A,c as B,L as G,d as V,u as M,I as X,s as _,m as N}from"./index-CoQGso_M.js";import{r as o,a as q}from"./icons-vendor-Cp_Faw2P.js";import{F}from"./FadeIn-D9WjtBx2.js";import"./react-vendor-Cgg2GOmP.js";function S(e,i){if(typeof e=="function")return e(i);e!=null&&(e.current=i)}function J(...e){return i=>{let t=!1;const c=e.map(s=>{const r=S(s,i);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let s=0;s<c.length;s++){const r=c[s];typeof r=="function"?r():S(e[s],null)}}}}function Q(...e){return o.useCallback(J(...e),e)}class Y extends o.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const c=t.offsetParent,s=U(c)&&c.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z({children:e,isPresent:i,anchorX:t,root:c}){const s=o.useId(),r=o.useRef(null),u=o.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=o.useContext(K),R=e.props?.ref??e?.ref,d=Q(r,R);return o.useInsertionEffect(()=>{const{width:C,height:l,top:f,left:p,right:j}=u.current;if(i||!r.current||!C||!l)return;const g=t==="left"?`left: ${p}`:`right: ${j}`;r.current.dataset.motionPopId=s;const h=document.createElement("style");x&&(h.nonce=x);const w=c??document.head;return w.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${l}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(h)&&w.removeChild(h)}},[i]),n.jsx(Y,{isPresent:i,childRef:r,sizeRef:u,children:o.cloneElement(e,{ref:d})})}const ee=({children:e,initial:i,isPresent:t,onExitComplete:c,custom:s,presenceAffectsLayout:r,mode:u,anchorX:x,root:R})=>{const d=$(te),C=o.useId();let l=!0,f=o.useMemo(()=>(l=!1,{id:C,initial:i,isPresent:t,custom:s,onExitComplete:p=>{d.set(p,!0);for(const j of d.values())if(!j)return;c&&c()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[t,d,c]);return r&&l&&(f={...f}),o.useMemo(()=>{d.forEach((p,j)=>d.set(j,!1))},[t]),o.useEffect(()=>{!t&&!d.size&&c&&c()},[t]),u==="popLayout"&&(e=n.jsx(Z,{isPresent:t,anchorX:x,root:R,children:e})),n.jsx(W.Provider,{value:f,children:e})};function te(){return new Map}const b=e=>e.key||"";function T(e){const i=[];return o.Children.forEach(e,t=>{o.isValidElement(t)&&i.push(t)}),i}const se=({children:e,custom:i,initial:t=!0,onExitComplete:c,presenceAffectsLayout:s=!0,mode:r="sync",propagate:u=!1,anchorX:x="left",root:R})=>{const[d,C]=A(u),l=o.useMemo(()=>T(e),[e]),f=u&&!d?[]:l.map(b),p=o.useRef(!0),j=o.useRef(l),g=$(()=>new Map),h=o.useRef(new Set),[w,D]=o.useState(l),[y,E]=o.useState(l);B(()=>{p.current=!1,j.current=l;for(let m=0;m<y.length;m++){const a=b(y[m]);f.includes(a)?(g.delete(a),h.current.delete(a)):g.get(a)!==!0&&g.set(a,!1)}},[y,f.length,f.join("-")]);const k=[];if(l!==w){let m=[...l];for(let a=0;a<y.length;a++){const v=y[a],P=b(v);f.includes(P)||(m.splice(a,0,v),k.push(v))}return r==="wait"&&k.length&&(m=k),E(T(m)),D(l),null}const{forceRender:O}=o.useContext(G);return n.jsx(n.Fragment,{children:y.map(m=>{const a=b(m),v=u&&!d?!1:l===y||f.includes(a),P=()=>{if(h.current.has(a))return;if(h.current.add(a),g.has(a))g.set(a,!0);else return;let I=!0;g.forEach(H=>{H||(I=!1)}),I&&(O?.(),E(j.current),u&&C?.(),c&&c())};return n.jsx(ee,{isPresent:v,initial:!p.current||t?void 0:!1,custom:i,presenceAffectsLayout:s,mode:r,root:R,onExitComplete:v?void 0:P,anchorX:x,children:m},a)})})},ne=(e=!1)=>{const[i,t]=o.useState(e),c=o.useCallback(()=>{t(!0),document.body.style.overflow="hidden"},[]),s=o.useCallback(()=>{t(!1),document.body.style.overflow="unset"},[]),r=o.useCallback(()=>{t(u=>{const x=!u;return document.body.style.overflow=x?"hidden":"unset",x})},[]);return{isOpen:i,openModal:c,closeModal:s,toggleModal:r}},z={sectionLabel:"Proyectos",sectionTitle:"Mis proyectos destacados"},L=[{id:1,category:"Frontend",title:"Calculadora de Comisiones",description:"Aplicación web para calcular comisiones, diferencias y conversiones entre múltiples monedas. Soporta tasas escalonadas, persistencia de datos y cálculos en tiempo real.",stacks:["Frontend"],techs:["React","Redux Toolkit","Redux Persist","React Router"],image:V.projects.calculadora,github:"https://github.com/wilmerdmf/calculadora"}],oe=["Todos","Fullstack","Frontend","Backend"],ie=()=>{const[e,i]=o.useState("Todos"),t=e==="Todos"?L:L.filter(c=>c.category===e);return{filters:oe,filtered:t,selectedFilter:e,setSelectedFilter:i}},re=({project:e})=>{const{isOpen:i,openModal:t,closeModal:c}=ne();return n.jsxs(n.Fragment,{children:[n.jsxs("article",{className:"project-card",children:[n.jsxs("div",{children:[n.jsx("p",{className:"project-category",children:e.category}),n.jsxs("h3",{className:"project-title",onClick:()=>window.open(e.github,M.targets.blank),children:[e.title,n.jsx("span",{children:n.jsx(q,{size:M.icons.sizes.medium,"aria-hidden":"true"})})]}),n.jsx("p",{className:"project-description",children:e.description}),n.jsx("div",{className:"project-stacks",children:e.stacks.map(s=>n.jsx("span",{className:"stack-chip",children:s},s))}),n.jsx("div",{className:"project-techs",children:e.techs.map(s=>n.jsx("span",{className:"tech-chip",children:s},s))})]}),n.jsx("img",{className:"project-image",src:e.image,alt:`Screenshot of ${e.title} project`,loading:"lazy",decoding:"async",onClick:t,style:{cursor:M.cursor.zoomIn},role:"button",tabIndex:0,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())}})]}),n.jsx(X,{isOpen:i,imageUrl:e.image,alt:e.title,onClose:c})]})},ce=o.memo(re),fe=()=>{const{filters:e,filtered:i,selectedFilter:t,setSelectedFilter:c}=ie();return n.jsx("section",{className:"projects-container",id:_.projects,children:n.jsxs("div",{className:"projects-content-container max-width-container",children:[n.jsxs(F,{children:[n.jsx("p",{className:"projects-label",children:z.sectionLabel}),n.jsx("h2",{className:"projects-title",children:z.sectionTitle})]}),n.jsx(F,{delay:.2,children:n.jsx("div",{className:"projects-filters",children:e.map(s=>n.jsx(N.button,{className:t===s?"active":"",onClick:()=>c(s),whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:s},s))})}),n.jsx(N.div,{className:"projects-list",layout:!0,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:{visible:{transition:{staggerChildren:.15}}},children:n.jsx(se,{mode:"popLayout",children:i.map(s=>n.jsx(N.div,{layout:!0,variants:{hidden:{opacity:0,scale:.8,y:30},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.3}},children:n.jsx(ce,{project:s})},s.id))})})]})})};export{fe as default};
